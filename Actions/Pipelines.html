

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Pipelines &mdash; Alpine 0.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Alpine 0.1.0 documentation" href="../index.html"/>
        <link rel="up" title="Ascent Actions" href="index.html"/>
        <link rel="next" title="add_plot" href="Scenes.html"/>
        <link rel="prev" title="Ascent Actions Overview" href="Actions.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Alpine
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../Ascent.html">Ascent Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Overview.html">Ascent Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ExampleIntegrations.html">Example Integrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BuildingAscent.html">Building Ascent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AscentAPI.html">Ascent API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Ascent Actions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Actions.html">Ascent Actions Overview</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Pipelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#filters">Filters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Scenes.html">add_plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="Extracts.html">Extracts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../GPU_notes.html">Ascent GPU Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Publications.html">Publications and Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Licenses.html">License Info</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Alpine</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../Ascent.html">Ascent Documentation</a> &raquo;</li>
      
          <li><a href="index.html">Ascent Actions</a> &raquo;</li>
      
    <li>Pipelines</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/Actions/Pipelines.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pipelines">
<h1>Pipelines<a class="headerlink" href="#pipelines" title="Permalink to this headline">¶</a></h1>
<p>Pipelines allow users to compose filters that transform the published input data into new meshes.
This is where users specify typical geometric transforms (e.g., clipping and slicing), field based transforms (e.g., threshold and contour), etc.
The resulting data from each Pipeline can be used as input to Scenes or Extracts.
Each pipeline contains one or more filters that transform the published mesh data.
When more than one filter is specified, each successive filter consumes the result of the previous filter, and filters are executed in the order in which they are declared.</p>
<p>The code below shows the declaration of two pipelines.
The first applies a contour filter to extract two isosurfaces of the scalar field <code class="docutils literal"><span class="pre">noise</span></code>.
The second pipeline applies a threshold filter to screen the <code class="docutils literal"><span class="pre">noise</span></code> field, and then a clip filter to extract the intersection of what remains from the threshold with a sphere.</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="n">pipelines</span><span class="p">;</span>
<span class="c1">// pipeline 1</span>
<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;contour&quot;</span><span class="p">;</span>
<span class="c1">// filter parameters</span>
<span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="n">contour_params</span><span class="p">;</span>
<span class="n">contour_params</span><span class="p">[</span><span class="s">&quot;field&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;noise&quot;</span><span class="p">;</span>
<span class="n">contour_params</span><span class="p">[</span><span class="s">&quot;iso_values&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">};</span>
<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/params&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">contour_params</span><span class="p">;</span>

<span class="c1">// pipeline 2</span>
<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl2/f1/type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;threshold&quot;</span><span class="p">;</span>
<span class="c1">// filter parameters</span>
<span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="n">thresh_params</span><span class="p">;</span>
<span class="n">thresh_params</span><span class="p">[</span><span class="s">&quot;field&quot;</span><span class="p">]</span>  <span class="o">=</span> <span class="s">&quot;noise&quot;</span><span class="p">;</span>
<span class="n">thresh_params</span><span class="p">[</span><span class="s">&quot;min_value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="n">thresh_params</span><span class="p">[</span><span class="s">&quot;max_value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">;</span>
<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl2/f1/params&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">thresh_params</span><span class="p">;</span>

<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl2/f2/type&quot;</span><span class="p">]</span>   <span class="o">=</span> <span class="s">&quot;clip&quot;</span><span class="p">;</span>
<span class="c1">// filter parameters</span>
<span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="n">clip_params</span><span class="p">;</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;topology&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;mesh&quot;</span><span class="p">;</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;sphere/center/x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;sphere/center/y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;sphere/center/z&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;sphere/radius&quot;</span><span class="p">]</span>   <span class="o">=</span> <span class="mf">.1</span><span class="p">;</span>
<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl2/f2/params/&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clip_params</span><span class="p">;</span>
</pre></div>
</div>
<p>Ascent and VTK-h are under heavy development and features are being added rapidly.
As we stand up the infrastructure necessary to support a wide variety filter we created the following filters for the alpha release:</p>
<blockquote>
<div><ul class="simple">
<li>Contour</li>
<li>Threshold</li>
<li>Clip</li>
</ul>
</div></blockquote>
<div class="section" id="filters">
<h2>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h2>
<p>Our filter API consists of the type of filter and the parameters associated with the filter in the general form:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span>   <span class="p">:</span> <span class="s2">&quot;filter_name&quot;</span><span class="p">,</span>
  <span class="nt">&quot;params&quot;</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="nt">&quot;string_param&quot;</span> <span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="nt">&quot;double_param&quot;</span> <span class="p">:</span> <span class="mf">2.0</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In c++, the equivalent declarations would be as follows:
.. code-block:: c++</p>
<blockquote>
<div>conduit::Node filter;
filter[&#8220;type&#8221;] = &#8220;filter_name&#8221;;
filter[&#8220;params/string_param&#8221;] = &#8220;string&#8221;;
filter[&#8220;params/double_param&#8221;] = 2.0;</div></blockquote>
<div class="section" id="included-filters">
<h3>Included Filters<a class="headerlink" href="#included-filters" title="Permalink to this headline">¶</a></h3>
<div class="section" id="contour">
<h4>Contour<a class="headerlink" href="#contour" title="Permalink to this headline">¶</a></h4>
<p>The contour filter evaluates a node-centered scalar field for all points at a given iso-value.
This results in a surface if the iso-value is within the scalar field.
<code class="docutils literal"><span class="pre">iso_vals</span></code> can contain a single double or an array of doubles.
The code below provides examples creating a pipeline using both methods:</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="n">pipelines</span><span class="p">;</span>
<span class="c1">// pipeline 1</span>
<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;contour&quot;</span><span class="p">;</span>
<span class="c1">// filter knobs</span>
<span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="o">&amp;</span><span class="n">contour_params</span> <span class="o">=</span> <span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/params&quot;</span><span class="p">];</span>
<span class="n">contour_params</span><span class="p">[</span><span class="s">&quot;field&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;braid&quot;</span><span class="p">;</span>
<span class="n">contour_params</span><span class="p">[</span><span class="s">&quot;iso_values&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.4</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="n">pipelines</span><span class="p">;</span>
<span class="c1">// pipeline 1</span>
<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;contour&quot;</span><span class="p">;</span>
<span class="c1">// filter knobs</span>
<span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="o">&amp;</span><span class="n">contour_params</span> <span class="o">=</span> <span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/params&quot;</span><span class="p">];</span>
<span class="n">contour_params</span><span class="p">[</span><span class="s">&quot;field&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;braid&quot;</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">iso_vals</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">};</span>
<span class="n">contour_params</span><span class="p">[</span><span class="s">&quot;iso_values&quot;</span><span class="p">].</span><span class="n">set_external</span><span class="p">(</span><span class="n">iso_vals</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="threshold">
<h4>Threshold<a class="headerlink" href="#threshold" title="Permalink to this headline">¶</a></h4>
<p>The threshold filter removes cells that are not contained within a specified scalar range.</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="n">pipelines</span><span class="p">;</span>
<span class="c1">// pipeline 1</span>
<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;threshold&quot;</span><span class="p">;</span>
<span class="c1">// filter knobs</span>
<span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="o">&amp;</span><span class="n">thresh_params</span> <span class="o">=</span> <span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/params&quot;</span><span class="p">];</span>
<span class="n">thresh_params</span><span class="p">[</span><span class="s">&quot;field&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;braid&quot;</span><span class="p">;</span>
<span class="n">thresh_params</span><span class="p">[</span><span class="s">&quot;min_value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">;</span>
<span class="n">thresh_params</span><span class="p">[</span><span class="s">&quot;max_value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="clip">
<h4>Clip<a class="headerlink" href="#clip" title="Permalink to this headline">¶</a></h4>
<p>The clip filter removes cells from the specified topology using implicit functions.
Only the area outside of the implicit function remains.</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="n">pipelines</span><span class="p">;</span>
<span class="c1">// pipeline 1</span>
<span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;clip&quot;</span><span class="p">;</span>
<span class="c1">// filter knobs</span>
<span class="n">conduit</span><span class="o">::</span><span class="n">Node</span> <span class="o">&amp;</span><span class="n">clip_params</span> <span class="o">=</span> <span class="n">pipelines</span><span class="p">[</span><span class="s">&quot;pl1/f1/params&quot;</span><span class="p">];</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;topology&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;mesh&quot;</span><span class="p">;</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;sphere/radius&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">11.</span><span class="p">;</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;sphere/center/x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;sphere/center/y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>
<span class="n">clip_params</span><span class="p">[</span><span class="s">&quot;sphere/center/z&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Scenes.html" class="btn btn-neutral float-right" title="add_plot" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Actions.html" class="btn btn-neutral" title="Ascent Actions Overview" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2016, LLNS.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>